{"version":3,"file":"index.js","sources":["../src/index.js"],"sourcesContent":["let instance = null\nclass Logger {\n  constructor () {\n    if (!instance) {\n      instance = this\n    }\n    // level 定义\n    this.DEBUG = {level: 0, type: 'debug'}\n    this.INFO = {level: 1, type: 'info'}\n    this.WARN = {level: 2, type: 'warn'}\n    this.ERROR = {level: 3, type: 'error'}\n    this.OFF = {level: 10, type: 'off'}\n\n    this.logLevel = this.DEBUG\n    return instance\n  }\n\n  /***\n   * 设置等级\n   * @param level [DEBUG,INFO,WARN,ERROR,OFF]\n   */\n  setLevel (level) {\n    if (typeof level === 'string') {\n      this.logLevel = this[`${level.toUpperCase()}`]\n    } else {\n      this.logLevel = Object.assign({}, this.DEBUG, level)\n    }\n  }\n\n  /***\n   * log debug\n   * @param args\n   */\n  debug (...args) {\n    this._log(this.DEBUG, args)\n  }\n\n  /***\n   * log info\n   * @param args\n   */\n  info (...args) {\n    this._log(this.INFO, args)\n  }\n\n  /***\n   * log warn\n   * @param args\n   */\n  warn (...args) {\n    this._log(this.WARN, args)\n  }\n\n  /***\n   * log error\n   * @param args\n   */\n  error (...args) {\n    this._log(this.ERROR, args)\n  }\n\n  _log (level = this.OFF, args) {\n    const type = level.type\n    if (level.level >= this.logLevel.level) {\n      const f = console[type]\n      if (typeof f === 'function') {\n        Function.apply.apply(f, [console, args])\n      }\n    }\n  }\n}\n\nconst logger = new Logger()\nconst level = process.env.LOGGER_LEVEL\nlevel && logger.setLevel(level)\nexport default logger\n"],"names":["instance","Logger","DEBUG","level","type","INFO","WARN","ERROR","OFF","logLevel","toUpperCase","args","_log","f","console","apply","logger","process","env","LOGGER_LEVEL","setLevel"],"mappings":";;;;;;;;;;;;;;AAAA,IAAIA,WAAW,IAAf;;IACMC;oBACW;;;QACT,CAACD,QAAL,EAAe;iBACF,IAAX;;;SAGGE,KAAL,GAAa,EAACC,OAAO,CAAR,EAAWC,MAAM,OAAjB,EAAb;SACKC,IAAL,GAAY,EAACF,OAAO,CAAR,EAAWC,MAAM,MAAjB,EAAZ;SACKE,IAAL,GAAY,EAACH,OAAO,CAAR,EAAWC,MAAM,MAAjB,EAAZ;SACKG,KAAL,GAAa,EAACJ,OAAO,CAAR,EAAWC,MAAM,OAAjB,EAAb;SACKI,GAAL,GAAW,EAACL,OAAO,EAAR,EAAYC,MAAM,KAAlB,EAAX;;SAEKK,QAAL,GAAgB,KAAKP,KAArB;WACOF,QAAP;;;;;;;;;;;6BAOQG,OAAO;UACX,OAAOA,KAAP,KAAiB,QAArB,EAA+B;aACxBM,QAAL,GAAgB,UAAQN,MAAMO,WAAN,EAAR,CAAhB;OADF,MAEO;aACAD,QAAL,GAAgB,eAAc,EAAd,EAAkB,KAAKP,KAAvB,EAA8BC,KAA9B,CAAhB;;;;;;;;;;;4BAQY;wCAANQ,IAAM;YAAA;;;WACTC,IAAL,CAAU,KAAKV,KAAf,EAAsBS,IAAtB;;;;;;;;;;2BAOa;yCAANA,IAAM;YAAA;;;WACRC,IAAL,CAAU,KAAKP,IAAf,EAAqBM,IAArB;;;;;;;;;;2BAOa;yCAANA,IAAM;YAAA;;;WACRC,IAAL,CAAU,KAAKN,IAAf,EAAqBK,IAArB;;;;;;;;;;4BAOc;yCAANA,IAAM;YAAA;;;WACTC,IAAL,CAAU,KAAKL,KAAf,EAAsBI,IAAtB;;;;2BAG4B;UAAxBR,KAAwB,uEAAhB,KAAKK,GAAW;UAANG,IAAM;;UACtBP,OAAOD,MAAMC,IAAnB;UACID,MAAMA,KAAN,IAAe,KAAKM,QAAL,CAAcN,KAAjC,EAAwC;YAChCU,IAAIC,QAAQV,IAAR,CAAV;YACI,OAAOS,CAAP,KAAa,UAAjB,EAA6B;mBAClBE,KAAT,CAAeA,KAAf,CAAqBF,CAArB,EAAwB,CAACC,OAAD,EAAUH,IAAV,CAAxB;;;;;;;;;AAMR,IAAMK,SAAS,IAAIf,MAAJ,EAAf;AACA,IAAME,QAAQc,QAAQC,GAAR,CAAYC,YAA1B;AACAhB,SAASa,OAAOI,QAAP,CAAgBjB,KAAhB,CAAT,CACA;;"}